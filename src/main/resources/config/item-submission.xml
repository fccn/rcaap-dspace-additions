<?xml version="1.0" encoding="utf-8" ?>
<!-- REX template based file - please check rex DSpace module - https://github.com/fccn/rcaap-rex-rcaap-dspace-module -->
<!DOCTYPE item-submission SYSTEM "item-submission.dtd">




<!-- Configurable Submission configuration file -->

<!-- This XML configuration file allows you to configure the ordering -->
<!-- and number of the steps that occur in the Item Submission Process. -->
<item-submission>

    <!-- The process-map maps collection handles to a particular Item -->
    <!-- Submission Process. This requires that a collection's name be -->
    <!-- unique, even within a community. DSpace does however ensure that each -->
    <!-- collection's handle is unique. Process-map provides the means to -->
    <!-- associate a unique collection name with an Item Submission process. -->
    <!-- The process-map also provides the special handle "default" (which is -->
    <!-- never a collection), here mapped to "traditional". Any collection -->
    <!-- which does not appear in this map will be associated with the mapping -->
    <!-- for handle "default". -->
    
    <submission-map>
        <!-- Default submission process -->
        <!--<name-map collection-handle="default" submission-name="traditional"/>-->
        <name-map collection-handle="default" submission-name="RCAAP_Publication_Submission"/>

        <!-- Sample Entities Collection configuration based on the demo Entities dataset available at:
             https://github.com/DSpace-Labs/AIP-Files/releases/tag/demo-entities-data
             This sets up the following Entity-based Collections in that dataset:
                "Publication" Collections = "Publications" -> "Articles", "Books", "Publications 2", & "Theses"
                "OrgUnit" Collection = "Related Objects" -> "OrgUnits"
                "Person" Collections = "Related Objects" -> "People" & "People 2"
                "Project" Collections = "Related Objects" -> "Projects" & "Projects 2"
                "Journal" Collection = "Compound Journals" -> "Journals"
                "Journal Volume" Collection = "Compound Journals" -> "Journal Volumes"
                "Journal Issue" Collection = "Compound Journals" ->  "Journal Issues"
             If you are using that demo dataset, you can simply uncomment the below configuration to enable Entity
             submission into all of the above Collections.
        -->
        <!--
        <name-map collection-handle="123456789/3" submission-name="Publication"/>
        <name-map collection-handle="123456789/4" submission-name="Publication"/>
        <name-map collection-handle="123456789/281" submission-name="Publication"/>
        <name-map collection-handle="123456789/5" submission-name="Publication"/>
        <name-map collection-handle="123456789/8" submission-name="OrgUnit"/>
        <name-map collection-handle="123456789/6" submission-name="Person"/>
        <name-map collection-handle="123456789/279" submission-name="Person"/>
        <name-map collection-handle="123456789/7" submission-name="Project"/>
        <name-map collection-handle="123456789/280" submission-name="Project"/>
        <name-map collection-handle="123456789/28" submission-name="Journal"/>
        <name-map collection-handle="123456789/29" submission-name="JournalVolume"/>
        <name-map collection-handle="123456789/30" submission-name="JournalIssue"/>
        -->
        
        <name-map collection-entity-type="Publication" submission-name="RCAAP_Publication_Submission"/> <!-- RCAAP PUBLICATION Form 08-03-2024 -->
        <name-map collection-entity-type="Person" submission-name="RCAAP_Person_Submission"/> <!-- RCAAP PERSON Form Testing 08-03-2024 -->
        <name-map collection-entity-type="Project" submission-name="RCAAP_Project_Submission"/> <!-- RCAAP PROJECT Form Testing 08-03-2024 -->
        <name-map collection-entity-type="OrgUnit" submission-name="RCAAP_Organization_Submission"/> <!-- RCAAP ORGUNIT Form Testing 08-03-2024 -->

    </submission-map>

    <!-- The 'step-definitions' allows you to define steps which you may wish -->
    <!-- to "share" amongst multiple submission-item definitions. In order to -->
    <!-- share the same step definition, you can refer to it by its unique id -->
    <!-- defined in this section. EVERY 'step' in this section MUST have a -->
    <!-- unique identifier in the 'id' attribute! -->
    <!-- -->
    <!-- Each <step-definition> REQUIRES the following attributes (@) and properties: -->
    <!-- @id - The unique identifier for this step -->
    <!-- -->
    <!-- <processing-class> - The class which will process all information for -->
    <!-- this step. The class must implement -->
    <!-- 'org.dspace.app.rest.submit.RestProcessingStep' -->
    <!-- (or one of the org.dspace.rest.submit.step.* classes) -->
    <!-- This property should reference the full path of the class -->
    <!-- (e.g. org.dspace.app.rest.submit.step.MyCustomStep) -->
    <!-- -->
    <!-- The following properties are OPTIONAL for each <step-definition>: -->
    <!-- <heading> - References the message key, from the -->
    <!-- Messages.properties -->
    <!-- -->
    
    <step-definitions>
        <!-- The "collection" step is a "special step" which is *REQUIRED* -->
        <!-- In DSpace, all submitted items must be immediately assigned -->
        <!-- to a collection. This step ensures that a collection is always selected. -->
        
        <step-definition id="collection">
            <heading></heading>
            <processing-class>org.dspace.app.rest.submit.step.CollectionStep</processing-class>
            <type>collection</type>
            <!-- <scope visibility="hidden" visibilityOutside="hidden">submission</scope> RCAPP 08-03-2024 -->
        </step-definition>

        <!-- The following set of DescribeStep <step-definition>s all point to forms (of the same name) which are
             defined in submission-forms.xml -->
        <step-definition id="traditionalpageone" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="traditionalpagetwo" mandatory="true">
            <heading>submit.progressbar.describe.steptwo</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>

        <step-definition id="upload">
            <heading>submit.progressbar.upload</heading>
            <processing-class>org.dspace.app.rest.submit.step.UploadStep</processing-class>
            <type>upload</type>
        </step-definition>
        
        <step-definition id="license">
            <heading>submit.progressbar.license</heading>
            <processing-class>org.dspace.app.rest.submit.step.LicenseStep</processing-class>
            <type>license</type>
            <scope visibilityOutside="read-only">submission</scope>
        </step-definition>

        <!-- This optional step may allow the user to select a Creative Commons license -->
        <step-definition id="cclicense" mandatory="false">
            <heading>submit.progressbar.CClicense</heading>
            <processing-class>org.dspace.app.rest.submit.step.CCLicenseStep</processing-class>
	        <type>cclicense</type>
        </step-definition>

		<!-- This optional step may allow the user to select access conditions on the item -->
        <step-definition id="itemAccessConditions">
            <heading>submit.progressbar.accessCondition</heading>
            <processing-class>org.dspace.app.rest.submit.step.AccessConditionStep</processing-class>
            <type>accessCondition</type>
        </step-definition>

        <!-- This optional step may enrich the current submission using information extracted
             from uploaded files or metadata.  -->
        <!-- Please note that this step will be triggered only when a request is performed,
             e.g. when a file is uploaded or the form is saved. The Angular UI also supports an
             autosave feature based on a timer, or the input of specific metadata such as identifiers,
             see the 'submission.autosave' settings in the 'environment.common.ts'.
             See also 'config/spring/api/step-processing-listener.xml' for further server side configuration
             -->
        
        <step-definition id="extractionstep">
            <heading>submit.progressbar.ExtractMetadataStep</heading>
            <processing-class>org.dspace.app.rest.submit.step.ExtractMetadataStep</processing-class>
            <type>extract</type>
        </step-definition>
        
        <!-- This is the Sample/Fake Step which is used for testing only -->
        <step-definition id="sample">
            <heading>Sample</heading>
            <processing-class>org.dspace.submit.step.SampleStep</processing-class>
            <type>sample</type>
        </step-definition>

        <!-- SHERPA STEP -->

        <step-definition id="sherpaPolicies" mandatory="true">
            <heading>submit.progressbar.sherpapolicy</heading>
            <processing-class>org.dspace.app.rest.submit.step.SherpaPolicyStep</processing-class>
            <type>sherpaPolicy</type>
        </step-definition>
        
        <!-- RCAAP STEPS FOR ENTITIES 19-02-2024  -->   
        
        <!-- RCAAP STEP FOR PROJECT -->
        
        <step-definition id="RCAAP_Project_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <!-- RCAAP STEP FOR PERSON -->
        
        <step-definition id="RCAAP_Person_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <!-- RCAAP STEP FOR ORGANIZATION -->
        
        <step-definition id="RCAAP_Organization_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        
        <!-- RCAAP STEPS FOR PUBLICATION, ITEM, THESIS & OER 19-02-2024  -->   
        
        <!-- RCAAP STEPS FOR PUBLICATION -->
        
        <step-definition id="RCAAP_Publication_Page_One_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_Publication_Page_Two_Form" mandatory="true">
            <heading>submit.progressbar.describe.steptwo</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_Publication_Page_Three_Form" mandatory="true"> 
            <heading>submit.progressbar.describe.rcaap.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        
        <!-- RCAAP STEPS FOR ITEM -->
    
        <step-definition id="RCAAP_Item_Page_One_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_Item_Page_Two_Form" mandatory="true">
            <heading>submit.progressbar.describe.steptwo</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_Item_Page_Three_Form" mandatory="true"> 
            <heading>submit.progressbar.describe.rcaap.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        
        <!-- RCAAP STEPS FOR THESIS -->
        
        <step-definition id="RCAAP_Thesis_Page_One_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_Thesis_Page_Two_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        
        <!-- RCAAP STEPS OER PUBLICATION -->
        
        <step-definition id="RCAAP_OER_Page_One_Form" mandatory="true">
            <heading>submit.progressbar.describe.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_OER_Page_Two_Form" mandatory="true">
            <heading>submit.progressbar.describe.steptwo</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
        <step-definition id="RCAAP_OER_Page_Three_Form" mandatory="true"> 
            <heading>submit.progressbar.describe.rcaap.stepone</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        
    </step-definitions>

    <!-- The submission-definitions map lays out the detailed definition of -->
    <!-- all the Item Submission Processes (and the ordering of their steps). -->
    <!-- Each separate "submission-process" has a unique name as an attribute, -->
    <!-- which matches one of the names in the process-map. One named -->
    <!-- "submit-process" has the name "traditional"; as this name suggests, -->
    <!-- it is the default item submission process, which gets used when -->
    <!-- the specified collection has no correspondingly named submit-process. -->
    <!-- -->
    <!-- Each submit-process contains an ordered set of steps; each step -->
    <!-- defines one "step" occurring during the process of submitting an -->
    <!-- item. A step MUST be referenced by 'id' (it must -->
    <!-- be defined in <step-definitions> above). -->
    <!-- -->
    <!-- -->
    
    
    <submission-definitions>

        <!-- This submission process is the "traditional" that defines the DEFAULT item submission process -->
        <submission-process name="traditional">
            <!--Uncommment to display the SAMPLE step as your first step -->
            <!--<step id="sample"/> -->

            <step id="collection"/>

            <!--Step will be to Describe the item. -->
            <step id="traditionalpageone"/>
            <step id="traditionalpagetwo"/>

            <!-- Uncomment this step to allow the user to embargo or access restrict the entire item -->
            <!-- <step id="itemAccessConditions"/> -->

            <!-- Uncomment this step to show when appropriate publisher policies retrieved from SHERPA/RoMEO -->
            <!-- <step id="sherpaPolicies"/> -->

            <!--Step will be to Upload the item -->
            <step id="upload"/>

            <!-- <step id="extractionstep"/> -->

            <!-- Uncomment this step to allow the user to select a Creative Commons License -->
            <!-- <step id="cclicense"/> -->

            <!--Step will be to Sign off on the required DSpace License agreement -->
            <step id="license"/>
        </submission-process>

        
        <!-- The following submission processes define the RCAAP submission processes -->
        
        <!-- RCAAP entities submission processes! 19-02-2024 - -->
        
        <submission-process name="RCAAP_Person_Submission">
            <step id="collection"/>
            <step id="RCAAP_Person_Form"/>
        </submission-process>
        
        <submission-process name="RCAAP_Project_Submission">
            <step id="collection"/>
            <step id="RCAAP_Project_Form"/>
        </submission-process>
        
        <submission-process name="RCAAP_Organization_Submission">
            <step id="collection"/>
            <step id="RCAAP_Organization_Form"/>
        </submission-process>
        
        
        <!-- RCAAP submission processes -->
        <submission-process name="RCAAP_Publication_Submission">

            <!--Step will be to upload the item -->
            <step id="upload"/>
            
            <step id="collection"/>

            <!--Step will be to Describe the item. -->
            <step id="RCAAP_Publication_Page_One_Form"/>
            
            <!--Step will be to Describe the item. -->
            <step id="RCAAP_Publication_Page_Two_Form"/>
            
            <!-- Uncomment this step to show when appropriate publisher policies retrieved from SHERPA/RoMEO --> 
            <step id="sherpaPolicies"/>
            
            <!-- 24-11-2023 - RCAAP addition! -->
            <step id="RCAAP_Publication_Page_Three_Form"/> 
            
            <!-- Uncomment this step to allow the user to embargo or access restrict the entire item -->
            <!-- <step id="itemAccessConditions"/> -->

            <!-- Uncomment this step to allow the user to select a Creative Commons License -->
            <!-- <step id="cclicense"/> -->

            <!--Step will be to sign off on the License -->
            <step id="license"/>
            
         </submission-process>
        
        
        
        <!-- RCAAP thesis submission processes -->
        <submission-process name="RCAAP_Thesis_Submission">
            <!--Step will be to Upload the item -->
            <step id="upload"/>

            <step id="collection"/>

            <!--Step will be to Describe the item. -->
            <step id="RCAAP_Thesis_Page_One_Form"/>
            
            <step id="RCAAP_Thesis_Page_Two_Form"/>

            <!--Step will be to Sign off on the License -->
            <step id="license"/>
        </submission-process>
        
        
        
        <!-- 11-01-2024 - ITEM !-->
        <!-- Item submission processes -->
        <submission-process name="RCAAP_Item_Submission">

            <!--Step will be to upload the item -->
            <step id="upload"/>
            
            <step id="collection"/>

            <!--Step will be to Describe the item. -->
            <step id="RCAAP_Item_Page_One_Form"/>
            
            <!--Step will be to Describe the item. -->
            <step id="RCAAP_Item_Page_Two_Form"/>
            
            <!-- Uncomment this step to show when appropriate publisher policies retrieved from SHERPA/RoMEO --> <!-- 24-11-2023 - RCAAP change place! -->
            <step id="sherpaPolicies"/>
            
            <!-- 11-01-2024 - RCAAP addition! -->
            <step id="RCAAP_Item_Page_Three_Form"/> 
            
            <!-- Uncomment this step to allow the user to embargo or access restrict the entire item -->
            <!-- <step id="itemAccessConditions"/> -->

            <!-- Uncomment this step to allow the user to select a Creative Commons License -->
            <!-- <step id="cclicense"/> -->

            <!--Step will be to sign off on the License -->
            <step id="license"/>
            
        </submission-process>

        
        <!-- 11-01-2024 - OER !-->
        <!-- Open Education Resources (OER) submission processes -->
        <submission-process name="RCAAP_OER_Submission">

            <!--Step will be to upload the item -->
            <step id="upload"/>
            
            <step id="collection"/>

            <!--Step will be to Describe the item. -->
            <step id="RCAAP_OER_Page_One_Form"/>
            
            <!--Step will be to Describe the item. -->
            <step id="RCAAP_OER_Page_Two_Form"/>
            
            <!-- Uncomment this step to show when appropriate publisher policies retrieved from SHERPA/RoMEO --> <!-- 24-11-2023 - RCAAP change place! -->
            <step id="sherpaPolicies"/>
            
            <!-- 24-11-2023 - RCAAP addition! -->
            <step id="RCAAP_OER_Page_Three_Form"/> 
            
            <!-- <step id="rcaapPublicationPagetwoForm"/>  24-11-2023 - RCAAP addition!-->
            
            <!-- Uncomment this step to allow the user to embargo or access restrict the entire item -->
            <!-- <step id="itemAccessConditions"/> -->

            <!-- Uncomment this step to allow the user to select a Creative Commons License -->
            <!-- <step id="cclicense"/> -->

            <!--Step will be to sign off on the License -->
            <step id="license"/>
            
        </submission-process>
        
        
    </submission-definitions>

</item-submission>
